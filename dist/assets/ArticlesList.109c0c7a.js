import{j as e,v as r,Q as T,a7 as C,r as o,B as j,F as k}from"./index.7784cd69.js";import{B as A,h as I,D as R,M,i as W,j as p,F as H,k as z,T as U,l as $,m as Q,w as O,S as X,C as x,c as G,d as V,a as _,R as v,e as h,L as q,n as J,s as K,X as Y,o as Z,I as N,p as ee,g as ue}from"./App.0ffa3be7.js";const i=O(X),te=async u=>i.fire({title:"\u0622\u06CC\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F\u061F",text:"\u0627\u0644\u0628\u062A\u0647 \u0627\u0645\u06A9\u0627\u0646 \u0628\u0627\u0632\u06AF\u0634\u062A \u0646\u06CC\u0633\u062A \u0648\u062C\u0648\u062F \u062F\u0627\u0631\u062F",icon:"warning",showCancelButton:!0,confirmButtonText:"\u0628\u0644\u0647",cancelButtonText:"\u0627\u0646\u0635\u0631\u0627\u0641",customClass:{confirmButton:"btn btn-primary ssss",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1}).then(async function(n){const a="/News/DeleteNewsFile",c={fileId:u};try{const t=await $({path:a,body:c});console.log("Response from API:",t),t&&t.data&&t.data.StatusCode===403?i.fire({icon:"error",title:"\u0639\u062F\u0645 \u062F\u0633\u062A\u0631\u0633\u06CC",text:t.data.ErrorMessage[0],customClass:{confirmButton:"btn btn-danger"}}):t&&i.fire({icon:"success",title:"\u0645\u0648\u0641\u0642\u06CC\u062A",text:"\u0639\u0645\u0644\u06CC\u0627\u062A \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0646\u062C\u0627\u0645 \u06AF\u0631\u062F\u06CC\u062F",customClass:{confirmButton:"btn btn-success"}})}catch(t){console.error("Error during delete operation:",t),i.fire({icon:"error",title:"\u062E\u0637\u0627",text:"\u062F\u0631\u062E\u0648\u0627\u0633\u062A \u0628\u0627 \u0634\u06A9\u0633\u062A \u0645\u0648\u0627\u062C\u0647 \u0634\u062F. \u0644\u0637\u0641\u0627 \u062F\u0648\u0628\u0627\u0631\u0647 \u062A\u0644\u0627\u0634 \u06A9\u0646\u06CC\u062F.",customClass:{confirmButton:"btn btn-danger"}})}n.dismiss===i.DismissReason.cancel&&i.fire({title:"\u0644\u063A\u0648",text:"\u0639\u0645\u0644\u06CC\u0627\u062A \u0644\u063A\u0648 \u06AF\u0631\u062F\u06CC\u062F",icon:"error",customClass:{confirmButton:"btn btn-success"}})}),se=async u=>{console.log("id",u);const n=!u.isActive,a=new FormData;a.append("Active",n),a.append("Id",u.id),a.forEach((t,d)=>{console.log(`${d}: ${t}`)});const c="/News/ActiveDeactiveNews";try{const t=await Q({path:c,body:a});t.data.success?C.success(t.data.message):C.error("\u0639\u0645\u0644\u06CC\u0627\u062A \u0627\u0646\u062C\u0627\u0645 \u0646\u0634\u062F\u060C \u0645\u0634\u06A9\u0644\u06CC \u067E\u06CC\u0634 \u0622\u0645\u062F."),console.log("Response Put Active/Deactive:",t)}catch(t){C.error("\u062E\u0637\u0627 \u062F\u0631 \u0627\u0631\u062A\u0628\u0627\u0637 \u0628\u0627 \u0633\u0631\u0648\u0631."),console.error("Error in Active/Deactive:",t)}},ae=[{name:"\u0646\u0648\u06CC\u0633\u0646\u062F\u0647",sortable:!0,maxWidth:"200px",sortField:"fullName",selector:u=>u.addUserFullName,cell:u=>e("div",{className:"d-flex fw-bolder justify-content-left align-items-center",children:u.addUserFullName})},{name:"\u0639\u0646\u0648\u0627\u0646 \u062E\u0628\u0631",sortable:!0,maxWidth:"200px",sortField:"fullName",selector:u=>u.title,cell:u=>e("div",{className:"d-flex  fw-bolder justify-content-left align-items-center",children:u.title})},{name:"\u062F\u0633\u062A\u0647 \u0628\u0646\u062F\u06CC \u062E\u0628\u0631",sortable:!0,maxWidth:"200px",sortField:"fullName",selector:u=>u.newsCatregoryName,cell:u=>e("div",{className:"d-flex fw-bolder justify-content-left align-items-center",children:u.newsCatregoryName})},{name:"\u062A\u0648\u0636\u06CC\u062D\u0627\u062A \u06A9\u0648\u062A\u0627\u0647",sortable:!0,maxWidth:"200px",sortField:"fullName",selector:u=>u.miniDescribe,cell:u=>e("div",{className:"d-flex fw-bolder justify-content-left align-items-center text-truncate",children:u.miniDescribe})},{name:"\u0648\u0636\u0639\u06CC\u062A",maxWidth:"120px",sortable:!0,sortField:"isActive",selector:u=>u.isActive,cell:u=>e("span",{children:u.isActive?e(A,{color:"danger",pill:!0,children:"\u063A\u06CC\u0631 \u0641\u0639\u0627\u0644"}):e(A,{color:"success",pill:!0,children:"\u0641\u0639\u0627\u0644"})})},{name:"\u0627\u0642\u062F\u0627\u0645",maxWidth:"120px",cell:u=>e("div",{className:"column-action",children:r(I,{children:[e(R,{tag:"div",className:"btn btn-sm",children:e(M,{size:14,className:"cursor-pointer"})}),r(W,{children:[r(p,{tag:T,className:"w-100",to:`/articles-view/${u.id}`,children:[e(H,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"\u062C\u0632\u0626\u06CC\u0627\u062A"})]}),r(p,{tag:"a",className:"w-100",onClick:()=>se(u),children:[e(z,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"\u0641\u0639\u0627\u0644 / \u063A\u06CC\u0631\u0641\u0639\u0627\u0644"})]}),r(p,{tag:"a",href:"/",className:"w-100",onClick:n=>{n.preventDefault(),te(u.id)},children:[e(U,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"\u062D\u0630\u0641"})]})]})]})})}],ne=({handlQuery:u,handlePerPage:n,rowsPerPage:a,searchDataParams:c})=>(console.log(c),e("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:r(v,{children:[e(h,{xl:"6",className:"d-flex align-items-center p-0",children:r("div",{className:"d-flex align-items-center w-100",children:[e("label",{htmlFor:"rows-per-page",children:"\u0646\u0645\u0627\u06CC\u0634"}),e(N,{className:"mx-50 w-25",type:"select",id:"rows-per-page",value:a,onChange:n,style:{width:"5rem"}})]})}),r(h,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[e("div",{className:"d-flex align-items-center ",children:e(N,{id:"search-invoice",className:"ms-50 w-100",type:"text",onChange:t=>u(t.target.value),placeholder:"\u062C\u0633\u062A\u062C\u0648..."})}),e("div",{className:"d-flex  table-header-actions",children:e(j,{className:"add-new-user",color:"primary",children:"\u062C\u0633\u062A\u062C\u0648"})})]})]})})),le=({data:u,setData:n,searchDataParams:a,GetArticlesList:c,setSearchDataParams:t})=>{const[d,m]=o.exports.useState(""),[g,w]=o.exports.useState(1),[b,F]=o.exports.useState(10),y=[{value:"",label:"\u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"},{value:!0,label:"\u0641\u0639\u0627\u0644"},{value:!1,label:"\u063A\u06CC\u0631\u0641\u0639\u0627\u0644"}],f=s=>{console.log(s),t(l=>({...l,PageNumber:s.selected})),w(s.selected+1)},S=s=>{console.log(s),t(l=>({...l,Query:s}))},D=s=>{console.log(s.value),t(l=>({...l,isActive:s.value}))},P=s=>{const l=parseInt(s.currentTarget.value);F(l)},B=s=>{m(s)},E=()=>e(ee,{previousLabel:"",nextLabel:"",pageCount:10,activeClassName:"active",forcePage:g!==0?g-1:0,onPageChange:l=>f(l),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-center my-2 pe-1"}),L=(s,l)=>{setSort(l),setSortColumn(s.sortField)};return r(o.exports.Fragment,{children:[r(x,{children:[e(G,{children:e(V,{tag:"h4",children:"\u0641\u06CC\u0644\u062A\u0631"})}),e(_,{children:e(v,{children:r(h,{md:"4",children:[e(q,{for:"status-select",children:" \u0648\u0636\u0639\u06CC\u062A "}),e(J,{theme:K,isClearable:!1,placeholder:"\u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F...",className:"react-select",classNamePrefix:"select",options:y,onChange:s=>{D(s)}})]})})})]}),e(x,{className:"overflow-hidden",children:e("div",{className:"react-dataTable",children:e(Y,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:ae,onSort:L,sortIcon:e(Z,{}),className:"react-dataTable",paginationComponent:E,data:u,GetArticlesList:c,setData:n,subHeaderComponent:e(ne,{handlePagination:f,handlQuery:S,searchDataParams:a,searchTerm:d,rowsPerPage:b,handleFilter:B,handlePerPage:P})})})})]})},re=()=>{const[u,n]=o.exports.useState([]),[a,c]=o.exports.useState({PageNumber:1,RowsOfPage:10}),t=async()=>{const m=await ue({path:"/News/AdminNewsFilterList",params:a});console.log(m.data.news),n(m.data.news)};return o.exports.useEffect(()=>{t()},[a]),e("div",{className:"app-user-list",children:e(le,{data:u,GetArticlesList:t,setData:n,setSearchDataParams:c,searchDataParams:a})})},ie=()=>e(k,{children:e(re,{})});export{ie as default};
